<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />




<title>Indices for Farmland and Forest Birds</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/yeti.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<script src="site_libs/clipboard-1.7.1/clipboard.min.js"></script>
<link href="site_libs/primer-tooltips-1.4.0/build.css" rel="stylesheet" />
<link href="site_libs/klippy-0.0.0.9500/css/klippy.min.css" rel="stylesheet" />
<script src="site_libs/klippy-0.0.0.9500/js/klippy.min.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>


<style type="text/css">
  code {
    white-space: pre;
  }
  .sourceCode {
    overflow: visible;
  }
</style>
<style type="text/css" data-origin="pandoc">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  { color: #cccccc; background-color: #303030; }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ffcfaf; } /* Alert */
code span.an { color: #7f9f7f; font-weight: bold; } /* Annotation */
code span.at { } /* Attribute */
code span.bn { color: #dca3a3; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #f0dfaf; } /* ControlFlow */
code span.ch { color: #dca3a3; } /* Char */
code span.cn { color: #dca3a3; font-weight: bold; } /* Constant */
code span.co { color: #7f9f7f; } /* Comment */
code span.cv { color: #7f9f7f; font-weight: bold; } /* CommentVar */
code span.do { color: #7f9f7f; } /* Documentation */
code span.dt { color: #dfdfbf; } /* DataType */
code span.dv { color: #dcdccc; } /* DecVal */
code span.er { color: #c3bf9f; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #c0bed1; } /* Float */
code span.fu { color: #efef8f; } /* Function */
code span.im { } /* Import */
code span.in { color: #7f9f7f; font-weight: bold; } /* Information */
code span.kw { color: #f0dfaf; } /* Keyword */
code span.op { color: #f0efd0; } /* Operator */
code span.ot { color: #efef8f; } /* Other */
code span.pp { color: #ffcfaf; font-weight: bold; } /* Preprocessor */
code span.sc { color: #dca3a3; } /* SpecialChar */
code span.ss { color: #cc9393; } /* SpecialString */
code span.st { color: #cc9393; } /* String */
code span.va { } /* Variable */
code span.vs { color: #cc9393; } /* VerbatimString */
code span.wa { color: #7f9f7f; font-weight: bold; } /* Warning */

</style>
<script>
// apply pandoc div.sourceCode style to pre.sourceCode instead
(function() {
  var sheets = document.styleSheets;
  for (var i = 0; i < sheets.length; i++) {
    if (sheets[i].ownerNode.dataset["origin"] !== "pandoc") continue;
    try { var rules = sheets[i].cssRules; } catch (e) { continue; }
    for (var j = 0; j < rules.length; j++) {
      var rule = rules[j];
      // check if there is a div.sourceCode rule
      if (rule.type !== rule.STYLE_RULE || rule.selectorText !== "div.sourceCode") continue;
      var style = rule.style.cssText;
      // check if color or background-color is set
      if (rule.style.color === '' && rule.style.backgroundColor === '') continue;
      // replace div.sourceCode by a pre.sourceCode rule
      sheets[i].deleteRule(j);
      sheets[i].insertRule('pre.sourceCode{' + style + '}', j);
    }
  }
})();
</script>







<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.tab('show');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "&#xe258;";
  border: none;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->




</head>

<body>


<div class="container-fluid main-container">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Ecological Methods</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Exercises
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="./Bird_survey.html">1. Svensk Fågeltaxering</a>
    </li>
    <li>
      <a href="./Trends.html">2. Indices for Farmland and Forest Birds</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">




</div>


<script>
  addClassKlippyTo("pre.r, pre.markdown");
  addKlippy('right', 'top', 'auto', '1', 'Copy code', 'Copied!');
</script>
<div id="indices-for-farmland-and-forest-birds" class="section level2">
<h2>Indices for Farmland and Forest Birds</h2>
<p>All countries in the European Union have to report population trends for their common farmland and forst birds. These data are collect by the <em>European Bird Census Council</em> and you can find them <a href="https://pecbms.info/trends-and-indicators/indicators/">here</a>.</p>
<p>In this exercise, we aim to produce such indices based on the data from the previous exercise.</p>
<p>The task seems straightforward. We have ten common farmland and ten common forst birds, each with their own trend. We just have to combine the trends of ten species into one common trend. An obvious way would be to simply add all the trends and then divide by the number of species. This would be the <em>arithmetic mean</em> of the species trends. Let’s do that.</p>
<p>First, here again the code that produces the index value for each speces for each year.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="co"># Sum over all routes for each species and each year.</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2">count.per.year &lt;-<span class="st"> </span><span class="kw">tapply</span>(birds<span class="op">$</span>individualCount, <span class="kw">list</span>(birds<span class="op">$</span>year, birds<span class="op">$</span>species), sum)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3"><span class="co"># As in the previous exercise, we have re-order the species from alphabetic back to the original order. We use the same trick, the match-function.</span></a>
<a class="sourceLine" id="cb1-4" data-line-number="4">count.per.year &lt;-<span class="st"> </span>count.per.year[ , <span class="kw">c</span>(<span class="kw">match</span>(species.data<span class="op">$</span>species, <span class="kw">names</span>(total.counts)))]</a>
<a class="sourceLine" id="cb1-5" data-line-number="5"></a>
<a class="sourceLine" id="cb1-6" data-line-number="6"><span class="co"># Index for each species for each year with counts expressed relative to the count in the first year.</span></a>
<a class="sourceLine" id="cb1-7" data-line-number="7"><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="kw">ncol</span>(count.per.year)){</a>
<a class="sourceLine" id="cb1-8" data-line-number="8">  count.per.year[ , i] &lt;-<span class="st"> </span>(count.per.year[ , i]<span class="op">/</span>nroutes)<span class="op">/</span>(count.per.year[<span class="dv">1</span> , i]<span class="op">/</span>nroutes[<span class="dv">1</span>])</a>
<a class="sourceLine" id="cb1-9" data-line-number="9">  index &lt;-<span class="st"> </span>count.per.year</a>
<a class="sourceLine" id="cb1-10" data-line-number="10">}</a></code></pre></div>
<p>Next, we plot the time series of the arithmetic mean of the indices for farmland and forest birds.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="co"># Compute the arithmetic mean by summing over all columns with farmland and forest birds, respectivley, and then dividing by the number of species.</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2">farmland.arith &lt;-<span class="st"> </span><span class="kw">rowSums</span>(count.per.year[ , <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>])<span class="op">/</span><span class="dv">10</span></a>
<a class="sourceLine" id="cb2-3" data-line-number="3">forest.arith &lt;-<span class="st"> </span><span class="kw">rowSums</span>(count.per.year[ , <span class="dv">11</span><span class="op">:</span><span class="dv">20</span>])<span class="op">/</span><span class="dv">10</span></a>
<a class="sourceLine" id="cb2-4" data-line-number="4"></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co"># Time series plots.</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="kw">plot</span>(<span class="dv">1996</span><span class="op">:</span><span class="dv">2018</span>, farmland.arith,</a>
<a class="sourceLine" id="cb2-7" data-line-number="7">       <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="fl">0.8</span>, <span class="kw">max</span>(farmland.arith) <span class="op">+</span><span class="st"> </span><span class="fl">0.1</span>), <span class="dt">yaxs=</span><span class="st">&quot;i&quot;</span>,</a>
<a class="sourceLine" id="cb2-8" data-line-number="8">       <span class="dt">type=</span><span class="st">&quot;l&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;arithmetic mean index&quot;</span>, <span class="dt">xlab=</span><span class="ot">NA</span>,</a>
<a class="sourceLine" id="cb2-9" data-line-number="9">       <span class="dt">col=</span> <span class="st">&quot;darkorange3&quot;</span>, <span class="dt">lwd=</span><span class="dv">3</span>)</a>
<a class="sourceLine" id="cb2-10" data-line-number="10"><span class="kw">lines</span>(<span class="dv">1996</span><span class="op">:</span><span class="dv">2018</span>, forest.arith,</a>
<a class="sourceLine" id="cb2-11" data-line-number="11">       <span class="dt">type=</span><span class="st">&quot;l&quot;</span>, <span class="dt">ylab=</span><span class="st">&quot;arithmetic mean index&quot;</span>, <span class="dt">xlab=</span><span class="ot">NA</span>,</a>
<a class="sourceLine" id="cb2-12" data-line-number="12">       <span class="dt">col=</span> <span class="st">&quot;forestgreen&quot;</span>, <span class="dt">lwd=</span><span class="dv">3</span>)</a>
<a class="sourceLine" id="cb2-13" data-line-number="13"><span class="kw">legend</span>(<span class="st">&quot;top&quot;</span>, <span class="dt">legend =</span> <span class="kw">c</span>(<span class="st">&quot;Farmland&quot;</span>,<span class="st">&quot;Forest&quot;</span>), <span class="dt">col=</span> <span class="kw">c</span>(<span class="st">&quot;darkorange3&quot;</span>, <span class="st">&quot;forestgreen&quot;</span>), <span class="dt">lty =</span> <span class="dv">1</span>, <span class="dt">lwd =</span> <span class="dv">3</span>) </a></code></pre></div>
<p><img src="Trends_files/figure-html/unnamed-chunk-2-1.png" width="672" /></p>
<p>Is it a good idea to compute arithmetic means for a multi-species index? Let us do a litte thought experiment. Consider two species. The population of the first one doubles from one year to the next, that is, it has an index of 2 in the second year. The population of the second one halfs, it has an index of 0.5 in the second year. The arithmetic mean equals <span class="math inline">\((2 + 0.5)/2 = 1.25\)</span>, suggesting a positve trend on average. It should be clear that this is misleading: the effects of one population doubling and the one halfing should cancel out each other!</p>
<p>To achieve this, we have to compute the <em>geometric mean</em> rather than the arithmetic mean. The geometric mean for our example equals <span class="math inline">\(\sqrt{2*0.5} = 1\)</span>, as desired. Please read the short section on indicators in the course book by Sutherland (2006, pages 80 - 83) for a slighlty longer discussion of this issue. You can download the relevant pages <a href="https://clausrueffler.github.io/svensk-fageltaxering/downloads/Sutherland06Indicators.pdf">here</a>.</p>
<p>Following Box 2.19 in Sutherland (2006)it is easy to compute the geometric mean index.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb3-1" data-line-number="1"><span class="co"># Computing the geometric mean for farmland and forest birds.</span></a>
<a class="sourceLine" id="cb3-2" data-line-number="2">farmland.geo &lt;-<span class="st"> </span><span class="kw">exp</span>(<span class="kw">rowMeans</span>(<span class="kw">log</span>(index[ , <span class="dv">1</span><span class="op">:</span><span class="dv">10</span>])))</a>
<a class="sourceLine" id="cb3-3" data-line-number="3">forest.geo &lt;-<span class="st"> </span><span class="kw">exp</span>(<span class="kw">rowMeans</span>(<span class="kw">log</span>(index[ , <span class="dv">11</span><span class="op">:</span><span class="dv">20</span>])))</a>
<a class="sourceLine" id="cb3-4" data-line-number="4"></a>
<a class="sourceLine" id="cb3-5" data-line-number="5"><span class="kw">plot</span>(<span class="dv">1996</span><span class="op">:</span><span class="dv">2018</span>, farmland.geo,</a>
<a class="sourceLine" id="cb3-6" data-line-number="6">     <span class="dt">ylim =</span> <span class="kw">c</span>(<span class="fl">0.8</span>, <span class="kw">max</span>(farmland.geo) <span class="op">+</span><span class="st"> </span><span class="fl">0.1</span>), <span class="dt">yaxs=</span><span class="st">&quot;i&quot;</span>, </a>
<a class="sourceLine" id="cb3-7" data-line-number="7">     <span class="dt">ylab=</span><span class="st">&quot;geometric mean index&quot;</span>, <span class="dt">xlab=</span><span class="ot">NA</span>,</a>
<a class="sourceLine" id="cb3-8" data-line-number="8">     <span class="dt">type=</span><span class="st">&quot;l&quot;</span>, <span class="dt">col=</span> <span class="st">&quot;darkorange3&quot;</span>, <span class="dt">lwd=</span><span class="dv">3</span>)</a>
<a class="sourceLine" id="cb3-9" data-line-number="9"><span class="kw">lines</span>(<span class="dv">1996</span><span class="op">:</span><span class="dv">2018</span>, forest.geo,</a>
<a class="sourceLine" id="cb3-10" data-line-number="10">       <span class="dt">type=</span><span class="st">&quot;l&quot;</span>, <span class="dt">col=</span> <span class="st">&quot;forestgreen&quot;</span>, <span class="dt">lwd=</span><span class="dv">3</span>)</a>
<a class="sourceLine" id="cb3-11" data-line-number="11"><span class="kw">legend</span>(<span class="st">&quot;top&quot;</span>, <span class="dt">legend =</span> <span class="kw">c</span>(<span class="st">&quot;Farmland&quot;</span>,<span class="st">&quot;Forest&quot;</span>), <span class="dt">col=</span> <span class="kw">c</span>(<span class="st">&quot;darkorange3&quot;</span>, <span class="st">&quot;forestgreen&quot;</span>), <span class="dt">lty =</span> <span class="dv">1</span>, <span class="dt">lwd =</span> <span class="dv">3</span>) </a></code></pre></div>
<p><img src="Trends_files/figure-html/unnamed-chunk-3-1.png" width="672" /></p>
<p><span style="color: purple;"> <strong>Question 4</strong>: What are two conclusions you can make from this figure? For farmland birds compare your result with the offical Swedish data that you can find <a href="https://www.sverigesmiljomal.se/miljomalen/ett-rikt-odlingslandskap/faglar-och-fjarilar/">here</a>. If your results, differ from those on this website, what could be the reason? </span></p>
<!---
<span style="color: purple;">
**Bonus Question**: For the plot above, we pooled the raw observations among species in each group. This leads to a "weighted average" whereby more abundant species influence the pooled trend more than rare species.  In other words, the lines in this figure are driven by the most abundant species.  How might we compute counts per year for each habitat group with more equal weighting of common and rare species? (You don't need to write code for this; just try and describe how it might be done.)
</span>
--->
<!---
Bob's old code.

```r
nroutes <- colSums(table(birds$locationID, birds$year) > 0)

par(mfcol=c(5,4), mar=c(2,4,1.5,1), oma=c(0,4,0,4))

for (i in 1:ncol(count.per.year)){
  plot(1996:2018, (count.per.year[ , i]/nroutes)/(count.per.year[1 , i]/nroutes[1]),
       # for better comparision with the plots from Svensk Fågeltaxering we change the y-axis so that starts at zero and is exactly as long as needed 
       ylim = c(0, max((count.per.year[ , i]/nroutes)/(count.per.year[1 , i]/nroutes[1])+0.3)), yaxs="i",
       type="l", ylab="Total Obs.", xlab=NA,
       col=ifelse(i %in% 1:10, "darkorange3", "forestgreen"), 
       lwd=3)
  mtext(unique(birds$species)[i], 3, 0, cex=0.5, font=2)
}
```

<img src="Trends_files/figure-html/unnamed-chunk-4-1.png" width="672" />


```r
# First split the dataset into separate woodland and farmland species datasets
farmland_birds <- birds[birds$habitat == "Farms",]
woodland_birds <- birds[birds$habitat == "Woods",]

# Next count the total observations per year for each group
farmland_birds_counts <- tapply(farmland_birds$individualCount, farmland_birds$year, sum)
woodland_birds_counts <- tapply(woodland_birds$individualCount, woodland_birds$year, sum)

# Do not forget to correct for number of routes sampled!
farmland_birds_counts <- farmland_birds_counts/nroutes
woodland_birds_counts <- woodland_birds_counts/nroutes

# Plot the results
plot(names(farmland_birds_counts), 
     farmland_birds_counts, 
     type="l", col="darkorange3", lwd=5,
     xlab=NA, ylab="Obs./route")

lines(names(woodland_birds_counts), 
     woodland_birds_counts, 
     type="l", col="forestgreen", lwd=5)

legend("topright", legend=c("Farmland","Woodland"), 
       pch=22, pt.bg=c("darkorange3", "forestgreen"),
       bty="n", pt.cex=2)
```

<img src="Trends_files/figure-html/unnamed-chunk-5-1.png" width="480" />
--->
</div>




</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
